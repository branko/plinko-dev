{"version":3,"sources":["../../src/bodies/Chip.js"],"names":["Chip","x","y","type","body","shrink","bind","counter","interval","engine","currentBodies","setInterval","shrinkAfter","id","undefined","World","remove","world","clearInterval","Body","scale","circleRadius","TIMESTEP","GameObject"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;IAGqBA,I;;;AACnB,sBAAsB;AAAA,QAARC,CAAQ,QAARA,CAAQ;AAAA,QAALC,CAAK,QAALA,CAAK;;AAAA;;AAAA,4GACd,EAAEC,MAAM,MAAR,EAAgBF,IAAhB,EAAmBC,IAAnB,EADc;;AAEpB,UAAKE,IAAL,CAAUC,MAAV,GAAmB,MAAKA,MAAL,CAAYC,IAAZ,SAAnB;AAFoB;AAGrB;;;;6BAEQ;AACP,aAAQ,YAAW;AAAA;;AACjB,YAAIC,UAAU,CAAd;AACA,YAAIC,iBAAJ;;AAEA,eAAO,UAACC,MAAD,EAASC,aAAT,EAA2B;AAChCF,qBAAWG,YAAY,YAAM;AAC3B,gBAAIJ,cAAcK,WAAlB,EAA+B;AAC7BF,4BAAc,OAAKN,IAAL,CAAUS,EAAxB,IAA8BC,SAA9B;AACAC,8BAAMC,MAAN,CAAaP,OAAOQ,KAApB,EAA2B,OAAKb,IAAhC;AACAc,4BAAcV,QAAd;AACA;AACD;;AAEDW,2BAAKC,KAAL,CAAW,OAAKhB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B;AACA,mBAAKA,IAAL,CAAUiB,YAAV,IAA0B,IAA1B;AAED,WAXU,EAWRC,oBAXQ,CAAX;AAYD,SAbD;AAcD,OAlBM,EAAP;AAoBD;;;;EA3B+BC,oB;;kBAAbvB,I","file":"Chip.js","sourcesContent":["import { Bodies, Body, World } from 'matter-js';\nimport { TIMESTEP, CHIP_RADIUS, SHRINKING_FACTOR, SHRINKING_AFTER } from '../constants/gameEngine';\nimport GameObject from './GameObject'\n\n\nexport default class Chip extends GameObject {\n  constructor({ x, y }) {\n    super({ type: 'chip', x, y })\n    this.body.shrink = this.shrink.bind(this)()\n  }\n\n  shrink() {\n    return (function() {\n      let counter = 0\n      let interval;\n\n      return (engine, currentBodies) => {\n        interval = setInterval(() => {\n          if (counter++ === shrinkAfter) {\n            currentBodies[this.body.id] = undefined\n            World.remove(engine.world, this.body)\n            clearInterval(interval)\n            return\n          }\n\n          Body.scale(this.body, 0.99, 0.99)\n          this.body.circleRadius *= 0.99\n\n        }, TIMESTEP)\n      }\n    }\n    )()\n  }\n}\n"]}